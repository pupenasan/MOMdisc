Автоматизовані системи управління виробництвом (MES-рівень). Автор і лектор, Олександр Пупена.

# Лабораторний практикум.

Увага. Для календарного проходження курсу читайте [План](../план2020.md). 

- [ЛР0. Підготовка робочого місця](0_prepare.md)
- [ЛР1. Основи роботи з робочими центрами та операціями та устаткованням](1_base.md)
- [ЛР2. Основи роботи з сегментами продукту](2_prod.md)
- [ЛР3. Основи роботи з зонами зберігання](3_storzone.md)
- [ЛР4. Основи роботи з автоматичним плануванням](4_schedbase.md)
- [ЛР5. Основи роботи з DMS та WorkFlow](5_dms.md)
- [ЛР6. Робота з робочими центрами та планування](6_scheduler.md) 
- [ЛР7. Ключові показники ефективності (KPI)](7_KPI.md)
- [ЛР8. WMS](8_wms.md)

## Опис об'єкта для лабораторних робіт

Спочатку студенти займаються означенням об'єктів та їх використання в межах цеху MilkProd. Цех MilkProd призначений для приготування молочних продуктів з незбираного молока (молоко різної жирності, кефір, сметана, йогурти) і їх розфасовку в різну тару. Оброблене термізоване молоко з цеху приймання певної жирності і складу надходить в танки зберігання `SU_T1`..`SU_T3`, що знаходяться в зоні зберігання `SZ_NOPAST1`. При необхідності в молоко додають додаткові інгредієнти і вершки в залежності від вимог до сировини для конкретного продукту. Далі ця молочна суміш проходить через пастеризаційну установку `WC_XX_PAST1`, де проходить процес пастеризації при заданих технологічних параметрах, означених у рецепті продукту. Пастеризоване молоко (суміш) надходить в один або кілька танків для приготування `WC_T101` ... `WC_T102`. У танках відбувається його охолодження, введення, при необхідності, визначеного в рецепті кількості мікроорганізмів (закваски), сквашування і, в деяких випадках, додаткова термічна обробка. Приготований продукт вивантажується з танків через охолоджувачі на машини розливу, в залежності від необхідної тари. Процес пастеризації відбувається одночасно із завантаженням, процес вивантаження одночасно з розливом. Розлита в тару продукція упаковується в коробки або поліетиленові блоки і подається транспортером на склад готової продукції.

![рис.1.2. Технологічна схема цеху](G:/san/AKIT/ДИСЦИП/MES/GitVer/лабораторні/1media/2.png){ width=640px }

У останній лабораторній роботі розглядається весь виробничий ланцюг починаючи від приймання сировини - завершуючи вивантажанням. На реальному молочному виробництві, як правило, є окремий цех для приймання та зберігання сировини - молока. Також є окремі склади для зберігання продукції та вивантаження. Для спрощення виконання (адміністрування) в лабораторній роботі ці цеха доповнюються як частина одного цеху. 

![рис.8.](G:/san/AKIT/ДИСЦИП/MES/GitVer/лабораторні/8media/10.png)

## Короткий опис завдань для лабораторних робіт.

Нижче наводиться короткий перелік завдань для всіх лабораторних робіт. 

1. Виділити та означити робочі центри.
2. Навчитися керувати діями та операціями робочих центрів.
3. Створити устатковання для взаємодії MOM з АСКТП.
4. Навчитися контролювати та керувати теги та відповідні параметри устатковання в MOM. 
5. Створити зони та вузли зберігання для рідкої продукції.
6. Зареєструвати вручну надходження матеріалу (сировини) до зони зберігання.
7. Налаштувати маршрутну діаграму для зв'язку між робочим центром та зоною зберігання.
8. Перевірити автоматичну реєстрацію вивантаженого матеріалу з зони зберігання при реєстрації виробленого матеріалу на робочому центрі.  
9. Означити сегменти продукту для сировини і напівпродукту "Пастеризоване молоко"
10. Зробити тестовий запуск операції для виготовлення напівпродукту.
11. Налаштувати взаємодію між робочим центром та устаткованням для запуску/зупинки операцій.
12. Створити та вручну запланувати замовлення на виготовлення напівпродукту.  
13. Створити зони та вузли зберігання для рідкої продукції. 
14. Зареєструвати вручну надходження матеріалу (сировини) до зони зберігання.
15. Налаштувати маршрутну діаграму для зв'язку між робочим центром та зоною зберігання.
16. Перевірити автоматичну реєстрацію вивантаженого матеріалу з зони зберігання при реєстрації виробленого матеріалу на робочому центрі.  
17. Створити процеси, сегменти продуктів та робочі центри для виготовлення та фасування молока.
18. Налаштувати маршрутну діаграму для зв'язку між робочими центрами для координації та планування.
19. Запланувати виготовлення фасованої продукції та виконати план.
20. Сконфігурувати реєстрацію параметру (температури продукту на виході) в DMS.
21. Передивитися записи в модулі Operator.
22. Створити WorkFlow для: виведення повідомлень в архів, зупинки активної операції.
23. Створити підписку для зупинки активної операції при відповідній зміні стану устатковання.
24. Налаштувати автоматичну реєстрацію виробленого продукту на пастеризаторі за показами лічильника-витратоміра.
25. Створити усі налаштування для устатковання та параметри для існуючих робочих центрів.
26. Створити робочі центри для приготування продукту.
27. Створити процеси та робочі центри для фасування у різну тару.
28. Створити сегменти продуктів для різного типу продукції, упаковану в різну тару.
29. Навчитися перевіряти цілісність означення продукту.
30. Створити танки для зберігання сировини різної жирності.
31. Модифікувати маршрутну діаграму для виготовлення різної продукції.
32. Навчитися працювати з клієнтським замовленням.
33. Ознайомитися з базовими можливостями модуля планування.  
34. Створити устатковання для робочих центрів фасування.
35. Налаштувати тригери для запису планової продуктивності в робочий центр.
36. Сконфігурувати автоматичну реєстрацію кількості якісної і неякісної продукції.
37. Налаштувати пакети для розрахунку KPI.
38. Проаналізувати отримані результати. 
39. Сконфігурувати усі частини виробництва від приймання до вивантаження.
40. Створити Track & Trace (Простежуваність продукції).



#### Питання до захисту

1. Розкажіть про цех, який використовується в лабораторній роботі та призначення робочих центрів в ньому.
2. Які типи робочих центрів відповідно до технологічних процесів Ви знаєте? Розкажіть особливість проходження технологічних процесів в ньому.
3. Які мінімальні властивості необхідно задати для робочого центру? Поясніть за що вони відповідають для робочого центру неперервного типу.
4. Навіщо потрібне керування версіями робочих центрів?
5. Яке призначення модуля Operator? Які дії і для чого використовувалися з цього модуля?
6. Які сервісні дії робочих центрів використовувалися в лабораторній роботі? Розкажіть про їх призначення.
7. Покажіть як передивитися історію операцій/дій робочого центру в модулі Operator? 
8. Покажіть як передивитися історію операцій/дій робочого центру в модулі Scheduler?
9. Яким чином можна видалити заплановану операцію/дію?
10. Яким чином можна дізнатися про стан операції/дії?
11. Яке призначення устатковання (Equipment) в Momentum? Які рівні Equipment воно реалізує відповідно до ISA-95/ISA-88?
12. Прокоментуйте які теги і для чого використовуються з ПЛК? 
13. Розкажіть про реалізацію демонстраційної установки з імітатором. Яким чином відбувається зв'язок з Momentum?
14. Навіщо в лабораторній роботі використовуєтсья тестовий OPC UA Client? Які саме його можливості використовувалися в роботі?
15. Яким чином задається адреса тега, до якого прив'язується параметр устатковання?
16. Розкажіть про призначення технологічного процесу. Що таке параметри процесу? Яку пріоритетність має значення параметрів заданих в процесі, робочому центрі і в версії продукту?
17. Поясніть як при плануванні буде відомо на яких робочих центрах можна виготовляти конкретні сегменти продукту?
18. Поясніть що таке сегменти продукту? Які сегменти продукту і якого типу використовувалися в лабораторній роботі? Чим відрізняються типи сегментів?
19. Які основні властивості і навіщо задаються в означенні сегментів продукту?
20. Розкажіть як на основі параметрів рецепту задається необхідна кількість вхідної речовини та розраховується кількість вихідної?
21. Розкажіть яким чином в ручну реєструється виготовлена кількість продукту на робочому центрі.
22. Як в лабораторній роботі вирішено питання синхронізації команд запуску і зупинки робочого центру з відповідним устаткованням? Що задає властивість `Send Slient`  в параметрі? 
23. Розкажіть що таке клієнтське замовлення (`Customer order`). Які властивості вказуються для замовлення в Monentum?
24. Розкажіть про процес перетворення клієнтського замовлення в заплановані операції на робочих центрах при ручному плануванні. 
25. Поясніть що таке партія матеріалу (`Material Lot`).
26. Для чого використовуються зони зберігання? Розкажіть про призначення зони зберігання та вузлів зберігання типу Tank.
27. Розкажіть про призначення властивості `Storage rule` . Що значить FIFO, LIFO та Proportional.
28. Яким чином (за ініціюванням чого) може відбуватися поступання і споживання речовини в/з вузлу зберігання (наприклад танку)?
29. Для чого використовується Маршрутна дігаграма ( `Routing Diagram`)? Що саме і для чого задавлося в маршрутній діаграмі в даній лабораторній роботі?
30. Розкажіть про налаштування `Feedback behavior` в зв'язках маршрутної таблиці. На що ця властивість впливає?
31. Чому процес для виготовлення молока вибраний типу Batch?
32. Навіщо в означенні продукту в даній лабораторній роботі вказувалися альтернативні одиниці вимірювання та правила перетворення?
33. Які типи сегментів продуктів Ви можете назвати? 
34. Які матеріали окрім тих які входять в рецептуру можуть бути означені в сегменті продукту?
35. Поясніть, чому саме такі типи робочих центрів було вибрано для `WC_XX_PAST`, `WC_XX_T101` і `WC_XX_PK105`   
36. Поясніть властивість з'єднання між робочими центрами  `Start-stop behaviour` та `Reshedule behaviour`. Вони впливають на планування чи керування?
37. Поясніть властивість з'єднання між робочими центрами `Dependency type`. Вони впливають на планування чи керування?
38. Поясніть налаштування зав'язків між робочими центрами, що вказані в п.4.
39. Поясніть як при автоматичному плануванні Scheduler визначив в яких робочих центрах йому необхідно робити сегменти продуктів?
40. Що таке пакет (packet) в DMS? Для чого в Momentum використовують пакети?
41. Розкажіть як проводиться означення записування значень параметру устатковання в робочий центр.
42. Розкажіть для яких цілей були використані записані в пакет дані по температурі.
43. Поясніть що таке Workflow Activities? Як перевірити працездатність Workflow?
44. Які блоки і для чого використовувалися в даній лабораторній роботі? 
45. Розкажіть про автомат станів, який описаний в п.6. Навіщо він використовується в даній лабораторній роботі?
46. Що таке `Subscriber` і які принципи їх функціонування? Для чого вони використовувалися в даній лабораторній роботі?
47. Розкажіть про налаштування автоматичної реєстрації продукту.
48. Розкажіть про налаштування рецептів для формування фасування в тари різної ємності. 
49. Яким чином можна подивитися в яких продуктах використовується даний сегмент і які сегменти (структура) входять в даний продукт?
50. Розкажіть яким чином з використанням модуля планування можна:
    -  означити перелік та послідовність робочих центрів у вікні планувальника
    -  показати усі операції пов'язані з клієнтським замовленням
    -  подивитися перелік операцій, незапланованих на робочі станції
    -  видалити усі пов'язані одним клієнтським замовленням операції 
    -  подивитися завершені замовлення за певний період часу
    -  вибрати робочі центри, на які дозволяється автоматичне планування   
51. Поясніть що таке період перепланування (`Reschedule Period`). Які можливості він надає?
52. Розкажіть яке призначення параметрів устатковання  `PlanD` і `PlanQ`. Як вони використовуються в лабораторній роботі?
53. Що таке `Entity Trigger`? Для чого він використовується в даній лабораторній роботі?
54. Для чого необхідно реєструвати кількість виробленої якісної і дефектної продукції? Яким чином це означується в Momentum.
55. Навіщо означувати пакети `Progress package` та `Status Package` в Momentum?
56. Що таке OEE і яка формула розрахунку цього KPI в Momentum?
57. Розкажіть про налаштування порогів (Thresholds).
58. Розкажіть від чого залежить планова продуктивність?
59. Прокоментуйте отримані в лабораторній роботі графіки та показники з вкладки KPI модуля Operator з робочого центру.